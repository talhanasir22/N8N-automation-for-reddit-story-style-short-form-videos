üé• Reddit - Video Generation WorkflowThis n8n workflow is designed to automate the process of creating engaging, short-form video content (like TikToks or Instagram Reels) from text inputs. It combines a user-provided background video with Text-to-Speech (TTS) audio and automatically adds dynamic, captioned subtitles before saving the final video URL.Workflow NameReddit - VideoüéØ PurposeTo quickly generate high-quality, vertically-oriented (1080x1920) videos by combining:A user-uploaded background video.Text-to-Speech audio generated from a title and body script.Automatically generated dynamic captions/subtitles.A title card image (implied, though the full title card creation logic is split).The workflow saves all progress and the final video URL to a Baserow database.üõ†Ô∏è PrerequisitesTo run this workflow, you need to have the following services or credentials set up:n8n Instance: Running the workflow.S3/MinIO Account (S3 account): For storing the uploaded background video, the generated TTS audio, and the final video.Baserow Account (Baserow account 2): A database is required to track the video generation process (URLs, status, execution ID).Media Processing API: This workflow relies heavily on custom external HTTP services for video and audio processing, specifically:TTS Service: http://173.249.21.108:8880/v1/audio/speechFFmpeg/Video Composition Service: http://173.249.21.108:8080/v1/ffmpeg/composeCaptioning Service: http://173.249.21.108:8080/v1/video/captionNote: These services require an x-api-key header for authentication.üöÄ Workflow Steps (High-Level)The workflow is divided into several main stages:Input & Storage: User submits text and video via a Form Trigger.Database Tracking: Initial row creation in Baserow to track the process.Audio Generation (TTS): Convert the input text into a speech audio file.Video Assembly: Combine the background video and TTS audio.Captioning: Add dynamic captions to the assembled video.Finalize: Update the Baserow record with the final video URL and status.‚öôÔ∏è Detailed Node BreakdownNode NameTypeDescriptionForm (Trigger)formTriggerStarts the workflow. Collects the video's Title, Body script, an uploaded Video (background), and a Voice selection.Video Uploaders3Uploads the user-provided background video (video) to the nca-toolkit MinIO/S3 bucket with a filename based on the submission time (e.g., bg_{{ $json.submittedAt }}.mp4).Saving input to baserowbaserowCreates a new record in the Baserow table to log the execution, video URL, title, body, and set the status to Incomplete.Mix voiceshttpRequestCalls the external TTS API (/v1/audio/speech) to generate audio for the combined Title and Body text, using the selected Voice.Upload TTS audios3Uploads the generated TTS audio file to the nca-toolkit S3 bucket.Update BaserowbaserowUpdates the Baserow record with the URL of the newly generated TTS audio.Getting rowsbaserowRetrieves the necessary data (background video URL, audio URL) from the Baserow table based on the current execution ID.Combine ClipshttpRequestCalls the FFmpeg composition service (/v1/ffmpeg/compose) to combine the background video and the TTS audio. Crucially, it scales the video to 1080x1920 (vertical format).Add captionhttpRequestCalls the captioning service (/v1/video/caption) to add highlighted, dynamic subtitles (using The Bold Font at the bottom_center position) to the combined video. It also includes a basic profanity replacement filter.Add final video to baserowbaserowMarks the record as Completed and saves the final captioned video URL back into the Baserow database.
